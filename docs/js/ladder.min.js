!function(){"use strict";class t{constructor(){this._boxes=[[0,0]],this._min=0,this._max=0}width(){const t=this._boxes;return t[t.length-1][0]}height(){return this._max-this._min}add(t){const s=this._boxes;let h=s[s.length-1][0],i=s[s.length-1][1];for(const[e,n]of t)h+=e,i+=n,s.push([h,i]),i<this._min&&(this._min=i),i>this._max&&(this._max=i);return this}compose(s){const h=new t,i=s.fetch();for(const[t,e]of this.fetch())0!==e?0!==t?h.add(i.map(s=>[s[0]*t,s[1]*e])):h.add([[0,s.height()*e]]):h.add([[s.width()*t,0]]);return h}fetch(){const t=this._boxes;if(!t.length)return[];const s=[];for(let h=1;h<t.length;h++)s.push([t[h][0]-t[h-1][0],t[h][1]-t[h-1][1]]);return s}graph(t,s){const h=this.width()/(t-1),i=this._min,e=s/this.height(),n=this._boxes,r=Array(t);for(let o=0,c=1;o<t;o++){for(;c<n.length-1&&n[c][0]<o*h;)c++;const t=(n[c][1]+n[c-1][1])/2;r[o]=(t-i)*e}return r}scale(t,s,h={}){const i=t/this.width(),e=s/this.height(),n=(t,h,n,r)=>[t*i,s-h*e,n*i,s-r*e],r=this._boxes,o=Array(r.length-1);for(let c=0;c<r.length-1;c++)o[c]=n(...r[c],...r[c+1]);return o}}var s={Staircase:t};const{Staircase:h}=s;window.Staircase=h}();