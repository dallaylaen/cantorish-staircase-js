!function(){"use strict";class t{constructor(){this._boxes=[[0,0]],this._min=0,this._max=0,this._nonempty=0}width(){const t=this._boxes;return t[t.length-1][0]}height(){return this._max-this._min}growthFactor(){return this._nonempty}add(t){const s=this._boxes;let h=s[s.length-1][0],n=s[s.length-1][1];for(const[e,i]of t)h+=e,n+=i,s.push([h,n]),n<this._min&&(this._min=n),n>this._max&&(this._max=n),0!==e&&0!==i&&this._nonempty++;return this}compose(s){const h=new t,n=s.fetch();for(const[t,e]of this.fetch())0!==e?0!==t?h.add(n.map(s=>[s[0]*t,s[1]*e])):h.add([[0,s.height()*e]]):h.add([[s.width()*t,0]]);return h}fetch(){const t=this._boxes;if(!t.length)return[];const s=[];for(let h=1;h<t.length;h++)s.push([t[h][0]-t[h-1][0],t[h][1]-t[h-1][1]]);return s}graph(t,s){const h=this.width()/(t-1),n=this._min,e=s/this.height(),i=this._boxes,r=Array(t);for(let o=0,a=1;o<t;o++){for(;a<i.length-1&&i[a][0]<o*h;)a++;const t=(i[a][1]+i[a-1][1])/2;r[o]=(t-n)*e}return r}scale(t,s,h={}){const n=t/this.width(),e=s/this.height(),i=this._boxes;let r=Array(i.length-1);for(let o=0;o<i.length-1;o++)r[o]=[i[o][0]*n,i[o][1]*e,i[o+1][0]*n,i[o+1][1]*e];return h.flip&&(r=r.map(t=>[t[0],s-t[1],t[2],s-t[3]])),h.round&&(r=r.map(t=>t.map(t=>Math.round(t)))),r}}var s={Staircase:t};const{Staircase:h}=s;window.Staircase=h}();