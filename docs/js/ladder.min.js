!function(){"use strict";class t{constructor(){this._boxes=[[0,0]],this._min=0,this._max=0}width(){const t=this._boxes;return t[t.length-1][0]}height(){return this._max-this._min}add(t){const s=this._boxes;let h=s[s.length-1][0],i=s[s.length-1][1];for(const[e,n]of t)h+=e,i+=n,s.push([h,i]),i<this._min&&(this._min=i),i>this._max&&(this._max=i);return this}compose(s){const h=new t,i=s.fetch();for(const[t,e]of this.fetch())0!==e?0!==t?h.add(i.map(s=>[s[0]*t,s[1]*e])):h.add([[0,s.height()*e]]):h.add([[s.width()*t,0]]);return h}fetch(){const t=this._boxes;if(!t.length)return[];const s=[];for(let h=1;h<t.length;h++)s.push([t[h][0]-t[h-1][0],t[h][1]-t[h-1][1]]);return s}graph(t,s){const h=this.width()/(t-1),i=this._min,e=s/this.height(),n=this._boxes,r=Array(t);for(let o=0,a=1;o<t;o++){for(;a<n.length-1&&n[a][0]<o*h;)a++;const t=(n[a][1]+n[a-1][1])/2;r[o]=(t-i)*e}return r}scale(t,s,h={}){const i=t/this.width(),e=s/this.height(),n=this._boxes;let r=Array(n.length-1);for(let o=0;o<n.length-1;o++)r[o]=[n[o][0]*i,n[o][1]*e,n[o+1][0]*i,n[o+1][1]*e];return h.flip&&(r=r.map(t=>[t[0],s-t[1],t[2],s-t[3]])),h.round&&(r=r.map(t=>t.map(t=>Math.round(t)))),r}}var s={Staircase:t};const{Staircase:h}=s;window.Staircase=h}();